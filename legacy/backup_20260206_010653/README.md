# EmojiGame - Godot 重构版

这是一个从 Pygame 完全重构到 Godot 的弹幕射击游戏（STG）。

## 游戏特性

### 核心系统
- **玩家系统**: 移动、射击、判定点、无敌时间
- **子弹系统**: 玩家子弹和敌人弹幕
- **敌人系统**: 多种移动模式（直线、之字形、圆形、正弦波）
- **Boss系统**: 6个Boss，每个有多个阶段和独特的弹幕模式
- **补给系统**: 治疗、火力提升、炸弹、金钱、分数
- **关卡系统**: 6个关卡，每关包含道中和Boss战

### 游戏机制
- **火力系统**: 5级火力，每级增加子弹数量
- **炸弹系统**: 清除所有敌人子弹并对敌人造成伤害
- **时间停止**: 消耗能量停止敌人和子弹
- **连击系统**: 连续击杀敌人增加分数倍率
- **数据持久化**: 保存最高分和金钱

## 操作说明

- **方向键**: 移动
- **Shift**: 慢速移动（精确躲避）
- **Space**: 射击
- **X**: 使用炸弹
- **Z**: 使用时间停止
- **ESC**: 退出游戏

## 项目结构

```
EmojiGame/
├── scenes/
│   ├── main.tscn           # 主场景
│   ├── player.tscn         # 玩家场景
│   ├── player_bullet.tscn  # 玩家子弹
│   ├── enemy.tscn          # 敌人场景
│   ├── enemy_bullet.tscn   # 敌人子弹
│   ├── boss.tscn           # Boss场景
│   └── supply.tscn         # 补给场景
├── scripts/
│   ├── main.gd             # 主脚本
│   ├── player.gd           # 玩家脚本
│   ├── player_bullet.gd    # 玩家子弹脚本
│   ├── enemy.gd            # 敌人脚本
│   ├── enemy_bullet.gd     # 敌人子弹脚本
│   ├── boss.gd             # Boss脚本
│   ├── supply.gd           # 补给脚本
│   ├── game_manager.gd     # 游戏管理器
│   ├── game_ui.gd          # UI系统
│   └── music_manager.gd    # 音乐管理器
└── project.godot           # 项目配置
```

## 技术实现

### 玩家系统
- 使用 `CharacterBody2D` 实现平滑移动
- 支持普通速度和慢速模式
- 根据火力等级动态调整射击模式
- 无敌时间和闪烁效果

### 敌人系统
- 4种移动模式可配置
- 自动瞄准玩家射击
- 受伤闪红效果
- 死亡时掉落补给

### Boss系统
- 多阶段战斗（根据血量触发）
- 5种弹幕模式：
  - 圆形弹幕
  - 螺旋弹幕
  - 瞄准散射
  - 随机扩散
  - 组合模式
- 动态移动和位置切换

### 补给系统
- 5种补给类型
- 自动吸引机制（靠近玩家时）
- 掉落概率可配置

### 关卡系统
- 自动生成敌人
- 30秒道中后进入Boss战
- 击败Boss后进入下一关
- 6关全部通关即胜利

### UI系统
- 实时显示分数、连击、关卡
- 血条、火力、炸弹数量
- 时间停止能量条
- Boss血条（Boss战时显示）

## 开发说明

### 需要添加的内容
1. **视觉资源**:
   - 玩家、敌人、Boss的精灵图
   - 子弹和补给的图标
   - 背景图片

2. **音频资源**:
   - 关卡BGM
   - Boss战BGM
   - 音效（射击、爆炸、拾取等）

3. **碰撞形状**:
   - 为所有场景添加 CollisionShape2D
   - 配置碰撞层和掩码

4. **视觉效果**:
   - 爆炸特效
   - 粒子效果
   - 屏幕震动

### 扩展建议
- 添加主菜单和暂停菜单
- 实现难度选择
- 添加更多Boss和关卡
- 实现成就系统
- 添加回放功能

## 原始游戏
本项目是从 Pygame 版本的 EmojiGame 重构而来，保留了核心玩法和系统设计。

## 开发工具
- Godot Engine 4.6
- GDScript
